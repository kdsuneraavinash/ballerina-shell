import ballerina/io;
{{#imports}}
    {{{.}}}
{{/imports}}

{{#moduleDeclarations}}
    {{{.}}}
{{/moduleDeclarations}}
{{#variableDefinitions}}
    {{{.}}}
{{/variableDefinitions}}

function __stmt__() returns error? {
{{{newStatement}}}
}

type __NoExpression__ record {};
type __NoExpressionError__ error<__NoExpression__>;

function __run__() returns string|error {
    check  __stmt__();
    any|error expr = {{{newExpression}}}; // ==== New expression
    any value = checkpanic expr;
    string output = io:sprintf("%s", value);
    return output;
}

public function main() {
    io:println("\n[[__START__]]");
    string|error result = trap __run__();
    if (result is string) {
        io:println(result);
    } else if (result is __NoExpressionError__) {
        // ignore
    }else {
        io:println("\u{001b}[33;1mException occurred: ", result.message(), "\u{001b}[0m");
    }
    io:println("[[__END__]]\n");
}
